class c{constructor(){this.isScrolling=!1,this.scrollTimeout=null,this.init()}init(){this.addKeyboardNavigation(),this.addTouchSupport(),this.addWheelOptimization(),this.optimizeScrollPerformance()}addKeyboardNavigation(){document.addEventListener("keydown",t=>{t.key==="ArrowDown"||t.key==="PageDown"?(t.preventDefault(),this.scrollToNextSection()):t.key==="ArrowUp"||t.key==="PageUp"?(t.preventDefault(),this.scrollToPreviousSection()):t.key==="Home"?(t.preventDefault(),this.scrollToSection(0)):t.key==="End"&&(t.preventDefault(),this.scrollToSection(document.querySelectorAll(".section").length-1))})}addTouchSupport(){let t=0,o=0;document.addEventListener("touchstart",e=>{t=e.touches[0].clientY,o=Date.now()}),document.addEventListener("touchend",e=>{const n=e.changedTouches[0].clientY,i=Date.now(),s=t-n;i-o<300&&Math.abs(s)>50&&(s>0?this.scrollToNextSection():this.scrollToPreviousSection())})}addWheelOptimization(){let t=!1,o;document.addEventListener("wheel",e=>{if(t){e.preventDefault();return}const n=e.deltaY;Math.abs(n)>50&&(t=!0,n>0?this.scrollToNextSection():this.scrollToPreviousSection(),clearTimeout(o),o=setTimeout(()=>{t=!1},800))},{passive:!1})}scrollToNextSection(){const t=document.querySelectorAll(".section"),o=this.getCurrentSection(),e=Math.min(o+1,t.length-1);this.scrollToSection(e)}scrollToPreviousSection(){document.querySelectorAll(".section");const t=this.getCurrentSection(),o=Math.max(t-1,0);this.scrollToSection(o)}scrollToSection(t){const o=document.querySelectorAll(".section");if(o[t]){const e=o[t],i=e.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:i,behavior:"smooth"}),setTimeout(()=>{e.scrollIntoView({behavior:"auto",block:"start"})},500)}}getCurrentSection(){const t=document.querySelectorAll(".section"),o=window.scrollY+window.innerHeight/2;for(let e=0;e<t.length;e++){const n=t[e].getBoundingClientRect(),i=n.top+window.scrollY,s=i+n.height;if(o>=i&&o<s)return e}return 0}optimizeScrollPerformance(){let t=!1;const o=()=>{t=!1},e=()=>{t||(requestAnimationFrame(o),t=!0)};window.addEventListener("scroll",e,{passive:!0})}}document.addEventListener("DOMContentLoaded",()=>{new c});
